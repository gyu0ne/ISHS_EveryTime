<!DOCTYPE html>
<html lang="kr">
    <head>
        <!-- Google Tag Manager -->
        <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-5QFZNJVP');</script>
        <!-- End Google Tag Manager -->
        <script src=""></script>
        <meta charset="utf-8">
        <title>log인곽</title>
        <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
        <meta property="og:image" content="https://i.namu.wiki/i/UX1a0RmaJfABnbuJcd-2PfCO6qfqFMXaVBkNYV0Hwjm007_uH2Cc0fJmv6M9g9BTfzXjUk3jwJpDa09YdZnf79GO_NiDd9uGp7dudqFfQVBz69OaFzGfhSmMbOGezsME4LUzp6meYGFLDHZ32cTifVistPL4rVyv_OyU1WOADOM.webp">
        <meta property="og:description" content="log인곽에 오신 것을 환영합니다!">
        <meta property="og:title" content="log인곽">
        <link rel="shortcut icon" href=""> <meta name="title" content="log인곽">
        <meta name="keywords" content="log인곽">
        <meta name="description" content="인천과학고등학교 비공식 커뮤니티 log인곽입니다.">
        <meta name="viewport" content="width=device-width, initial-scale=1">
    </head>
<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5QFZNJVP"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <div class="container">
            <header>
                <div class="top-bar">
                    <div class="logo">LOG인곽</div>
                    <nav class="main-nav">
                        <ul>
                            <li><a href="/board/1">자유게시판</a></li>
                            <li><a href="/board/2">정보게시판</a></li>
                            <li><a href="/board/3">익명게시판</a></li>
                            <li><a href="/board/4">공개게시판</a></li>
                            <li><a href="#" onclick="alert('아직 지원되지 않는 기능입니다.')">면불 신청</a></li>
                            <li><a href="#" onclick="alert('아직 지원되지 않는 기능입니다.')">동아리</a></li>
                        </ul>
                    </nav>
                    <div class="user-menu">
                        <a href="/login">로그인</a>
                        <a href="/register">회원가입</a>
                    </div>

                    <button class="hamburger-menu" aria-label="메뉴 열기">
                        <span class="hamburger-icon"></span>
                        <span class="hamburger-icon"></span>
                        <span class="hamburger-icon"></span>
                    </button>
                    </div>
                <div class="sub-nav-bar">
                    </div>
            </header>

            <div class="mobile-nav">
                <div class="mobile-user-menu">
                    <a href="/login">로그인</a>
                    <a href="/register">회원가입</a>
                </div>
                <nav class="mobile-main-nav">
                    <ul>
                        <li><a href="/board/1">자유게시판</a></li>
                        <li><a href="/board/2">정보게시판</a></li>
                        <li><a href="/board/3">익명게시판</a></li>
                        <li><a href="/board/4">공개게시판</a></li>
                        <li><a href="#" onclick="alert('아직 지원되지 않는 기능입니다.')">인곽콘 신청</a></li>
                        <li><a href="#" onclick="alert('아직 지원되지 않는 기능입니다.')">인곽콘 상점</a></li>
                    </ul>
                </nav>
            </div>
        </header>
        <main>
            <aside class="sidebar left-sidebar">
                <div class="widget">
                    <h3>전체 게시판 목록</h3>
                    <ul>
                        <li><a href="/board/1">자유게시판</a></li>
                        <li><a href="/board/2">정보게시판</a></li>
                        <li><a href="/board/3">익명게시판</a></li>
                        <li><a href="/board/4">공개게시판</a></li>
                        <li><a href="#" onclick="alert('아직 지원되지 않는 기능입니다.')">인곽콘 신청</a></li>
                        <li><a href="#" onclick="alert('아직 지원되지 않는 기능입니다.')">인곽콘 상점</a></li>
                    </ul>
                </div>
                 <div class="widget login-widget-side">
                    <p>커뮤니티 이용을 위해 로그인이 필요합니다.</p>
                    <button class="login-btn" onclick="location.href='/login'">로그인</button>
                    <button class="register-btn" onclick="location.href='/register'">회원가입</button>
                </div>
            </aside>

            <section class="main-content">
                <div class="daily-meal">
                    <div class="meal-item">
                        <h4><span>조식</span></h4>
                        <p class="meal-menu" id="breakfast-menu"><span class="loading-spinner"></span></p>
                    </div>
                    <div class="meal-item">
                        <h4><span>중식</span></h4>
                        <p class="meal-menu" id="lunch-menu"><span class="loading-spinner"></span></p>
                    </div>
                    <div class="meal-item">
                        <h4><span>석식</span></h4>
                        <p class="meal-menu" id="dinner-menu"><span class="loading-spinner"></span></p>
                    </div>
                    <div class="meal-item timetable-widget">
                        <h4><span>시간표</span></h4>
                        <ol class="timetable-list">
                            <p class="meal-menu">로그인 후 이용 가능</p>
                        </ol>
                    </div>
                </div>
                <div class="board-preview">
                    <div class="board-column">
                        <h3>자유게시판</h3>
                        <ul>
                            <li><a href="#">로그인 후 이용가능</a><span></span></li>
                            <li><a href="#">로그인 후 이용가능</a><span></span></li>
                            <li><a href="#">로그인 후 이용가능</a><span></span></li>
                            <li><a href="#">로그인 후 이용가능</a><span></span></li>
                            <li><a href="#">로그인 후 이용가능</a><span></span></li>
                        </ul>
                    </div>
                    <div class="board-column">
                        <h3>익명게시판</h3>
                        <ul>
                            <li><a href="#">로그인 후 이용가능</a><span></span></li>
                            <li><a href="#">로그인 후 이용가능</a><span></span></li>
                            <li><a href="#">로그인 후 이용가능</a><span></span></li>
                            <li><a href="#">로그인 후 이용가능</a><span></span></li>
                            <li><a href="#">로그인 후 이용가능</a><span></span></li>
                        </ul>
                    </div>
                </div>
            </section>

            <aside class="sidebar right-sidebar">
                <div class="widget search-widget">
                    <input type="text" placeholder="전체 게시판의 글을 검색하세요!">
                </div>
                <div class="widget">
                    <h3>실시간 인기 글</h3>
                    <ul>
                        <li><a href="#">로그인 후 확인할 수 있습니다.</a></li>
                    </ul>
                </div>
                <div class="widget">
                    <h3>HOT 게시물</h3>
                     <ul>
                        <li><a href="#">로그인 후 확인할 수 있습니다.</a><span></span></li>
                    </ul>
                </div>
            </aside>
        </main>

        <footer>
            <p>&copy; 2025 Incheon Science HighSchool Community. All rights reserved.</p>
            <p style="margin-top: 10px; color: #999;">Made By. 32nd Kim Gyuwon & 32nd Kim Junseo</p>
            <nav>
                <a href="#">이용약관</a>
                <a href="#">개인정보처리방침</a>
                <a href="#">문의하기</a>
            </nav>
        </footer>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const hamburger = document.querySelector('.hamburger-menu');
            const mobileNav = document.querySelector('.mobile-nav');

            if (hamburger && mobileNav) {
                hamburger.addEventListener('click', function() {
                    // 햄버거 버튼과 모바일 메뉴에 'active' 클래스를 토글(toggle)
                    hamburger.classList.toggle('active');
                    mobileNav.classList.toggle('active');
                });
            }

            // 급식 정보 비동기 로드 (캐시 우선)
            const today = new Date().toISOString().split('T')[0];
            const cachedBob = localStorage.getItem('bob_' + today);
            
            if (cachedBob) {
                // 캐시된 데이터가 있으면 즉시 표시
                const bobData = JSON.parse(cachedBob);
                document.getElementById('breakfast-menu').innerHTML = bobData.breakfast || '정보 없음';
                document.getElementById('lunch-menu').innerHTML = bobData.lunch || '정보 없음';
                document.getElementById('dinner-menu').innerHTML = bobData.dinner || '정보 없음';
            } else {
                // 캐시 없으면 서버에서 로드
                fetch('/api/bob')
                    .then(response => response.json())
                    .then(data => {
                        if (data.status === 'success') {
                            // localStorage에 저장
                            localStorage.setItem('bob_' + today, JSON.stringify(data.data));
                            // 이전 날짜 캐시 삭제
                            Object.keys(localStorage).forEach(key => {
                                if (key.startsWith('bob_') && key !== 'bob_' + today) {
                                    localStorage.removeItem(key);
                                }
                            });
                            document.getElementById('breakfast-menu').innerHTML = data.data.breakfast || '정보 없음';
                            document.getElementById('lunch-menu').innerHTML = data.data.lunch || '정보 없음';
                            document.getElementById('dinner-menu').innerHTML = data.data.dinner || '정보 없음';
                        } else {
                            document.getElementById('breakfast-menu').textContent = '불러오기 실패';
                            document.getElementById('lunch-menu').textContent = '불러오기 실패';
                            document.getElementById('dinner-menu').textContent = '불러오기 실패';
                        }
                    })
                    .catch(err => {
                        document.getElementById('breakfast-menu').textContent = '오류 발생';
                        document.getElementById('lunch-menu').textContent = '오류 발생';
                        document.getElementById('dinner-menu').textContent = '오류 발생';
                    });
            }
        });
    </script>
    <style>
        .loading-spinner {
            display: inline-block;
            width: 16px;
            height: 16px;
            border: 2px solid #f3f3f3;
            border-top: 2px solid #3498db;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</body>
</html>